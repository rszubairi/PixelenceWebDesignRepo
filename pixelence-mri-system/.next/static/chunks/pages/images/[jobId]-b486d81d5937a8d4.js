(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{3127:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/images/[jobId]",function(){return t(8404)}])},7648:function(e,s,t){"use strict";var a=t(5893);t(7294),s.Z=e=>{let{children:s,onClick:t,variant:l="primary",size:i="md",disabled:r=!1,type:c="button"}=e,d="".concat("font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500"}[l]," ").concat({sm:"py-1 px-3 text-sm",md:"py-2 px-4 text-base",lg:"py-3 px-6 text-lg"}[i]," ").concat(r?"opacity-50 cursor-not-allowed":"");return(0,a.jsx)("button",{type:c,className:d,onClick:t,disabled:r,children:s})}},8404:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return n}});var a=t(5893),l=t(7294),i=t(5539),r=e=>{let{images:s}=e,[t,i]=(0,l.useState)(0),[r,c]=(0,l.useState)("single"),d=s[t];return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{className:"px-3 py-1 text-sm rounded-md ".concat("single"===r?"bg-purple-600 text-white":"bg-gray-200 text-gray-700"),onClick:()=>c("single"),children:"Single"}),(0,a.jsx)("button",{className:"px-3 py-1 text-sm rounded-md ".concat("compare"===r?"bg-purple-600 text-white":"bg-gray-200 text-gray-700"),onClick:()=>c("compare"),children:"Compare"}),(0,a.jsx)("button",{className:"px-3 py-1 text-sm rounded-md ".concat("grid"===r?"bg-purple-600 text-white":"bg-gray-200 text-gray-700"),onClick:()=>c("grid"),children:"Grid"})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[t+1," / ",s.length]})]}),(0,a.jsxs)("div",{className:"relative bg-gray-100 rounded-lg overflow-hidden",style:{height:"400px"},children:["single"===r&&(0,a.jsxs)("div",{className:"h-full flex items-center justify-center",children:[(0,a.jsx)("img",{src:d.url,alt:"DICOM Image ".concat(t+1),className:"max-h-full max-w-full object-contain"}),(0,a.jsx)("div",{className:"absolute bottom-2 left-2 bg-white bg-opacity-75 px-2 py-1 rounded text-xs",children:d.type})]}),"compare"===r&&(0,a.jsx)("div",{className:"h-full grid grid-cols-2 gap-2 p-2",children:s.slice(0,2).map((e,s)=>(0,a.jsxs)("div",{className:"relative bg-white rounded flex items-center justify-center",children:[(0,a.jsx)("img",{src:e.url,alt:"DICOM Image ".concat(s+1),className:"max-h-full max-w-full object-contain"}),(0,a.jsx)("div",{className:"absolute bottom-2 left-2 bg-white bg-opacity-75 px-2 py-1 rounded text-xs",children:e.type})]},s))}),"grid"===r&&(0,a.jsx)("div",{className:"h-full grid grid-cols-3 gap-2 p-2",children:s.map((e,s)=>(0,a.jsxs)("div",{className:"relative bg-white rounded flex items-center justify-center",children:[(0,a.jsx)("img",{src:e.url,alt:"DICOM Image ".concat(s+1),className:"max-h-full max-w-full object-contain"}),(0,a.jsx)("div",{className:"absolute bottom-2 left-2 bg-white bg-opacity-75 px-2 py-1 rounded text-xs",children:e.type})]},s))}),"single"===r&&s.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-75 rounded-full p-1",onClick:()=>{i(e=>0===e?s.length-1:e-1)},children:(0,a.jsx)("svg",{className:"h-5 w-5 text-gray-700",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,a.jsx)("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-75 rounded-full p-1",onClick:()=>{i(e=>e===s.length-1?0:e+1)},children:(0,a.jsx)("svg",{className:"h-5 w-5 text-gray-700",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),(0,a.jsx)("div",{className:"mt-4 flex space-x-2 overflow-x-auto pb-2",children:s.map((e,s)=>(0,a.jsx)("button",{className:"flex-shrink-0 w-16 h-16 rounded border-2 ".concat(s===t?"border-purple-600":"border-gray-300"),onClick:()=>i(s),children:(0,a.jsx)("img",{src:e.url,alt:"Thumbnail ".concat(s+1),className:"w-full h-full object-cover rounded"})},s))})]})},c=t(7648),d=t(1163),n=()=>{let[e,s]=(0,l.useState)(null),[t,n]=(0,l.useState)(null),[m,x]=(0,l.useState)(!0),o=(0,d.useRouter)(),{jobId:g}=o.query;(0,l.useEffect)(()=>{s(JSON.parse(localStorage.getItem("pixelence_user"))),g&&u(g)},[g]);let u=async e=>{n({id:e,patientName:"John Smith",age:45,gender:"Male",complaint:"Persistent headaches",scheduledDateTime:"2023-11-20T09:00:00",status:"DICOM Uploaded",images:[{id:"img1",url:"/images/sample-dicom-1.jpg",type:"T1"},{id:"img2",url:"/images/sample-dicom-2.jpg",type:"T2"},{id:"img3",url:"/images/sample-dicom-3.jpg",type:"FLAIR"},{id:"img4",url:"/images/sample-dicom-4.jpg",type:"T1C"}]}),x(!1)};return e?m?(0,a.jsx)(i.Z,{user:e,children:(0,a.jsx)("div",{className:"py-6",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})})})})}):(0,a.jsx)(i.Z,{user:e,children:(0,a.jsx)("div",{className:"py-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"DICOM Image Viewer"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:["Job ID: ",t.id," | Patient: ",t.patientName]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(c.Z,{variant:"secondary",onClick:()=>o.back(),children:"Back to Jobs"}),(0,a.jsx)(c.Z,{onClick:()=>o.push("/reports/".concat(t.id)),children:"View Report"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Medical Images"}),(0,a.jsx)(r,{images:t.images})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Patient Information"}),(0,a.jsxs)("dl",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.patientName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Age"}),(0,a.jsxs)("dd",{className:"text-sm text-gray-900",children:[t.age," years"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Gender"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.gender})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Complaint"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.complaint})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Scheduled Date"}),(0,a.jsxs)("dd",{className:"text-sm text-gray-900",children:[new Date(t.scheduledDateTime).toLocaleDateString()," at"," ",new Date(t.scheduledDateTime).toLocaleTimeString()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:(0,a.jsx)("span",{className:"status-badge ".concat(t.status.toLowerCase().replace(" ","-")),children:t.status})})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Image Series"}),(0,a.jsx)("div",{className:"space-y-2",children:t.images.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-600",children:["Image ",s+1]}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.type})]},e.id))})]})]})]})]})})}):(0,a.jsx)("div",{children:"Loading..."})}}},function(e){e.O(0,[873,664,539,888,774,179],function(){return e(e.s=3127)}),_N_E=e.O()}]);